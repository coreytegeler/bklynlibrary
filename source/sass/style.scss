@import 'reset';
@import 'vars';




body.theme-now-next {
	color: $darkColor;
	font-family: $sansSerif;
	@include mediumText;
	// top header section
	header {
		&#HEADER {
			width: 100%;
			position: relative;
			top: 0;
			left: 0;
			z-index: 100;
		}
		// search, login, other utilities
		.block {
			display: none;
		}
		// background image of header
		#HEADER-IMAGE {
			background: $lightColor;
			min-height: auto;
			padding-bottom: 95px; //slightly shorter than 105px tall logo
			img {
				display: none;
			}
		}
		#HEADER-TITLE {
			height: 100%;
			bottom: 0;
			display: flex;
			align-items: flex-end;
			.row {
				
			}
			* {
				color: $lightestColor;
			}
			h1#page-title.page__title.title {
				font-size: 2em;
				margin-bottom: 15px;
				font-family: $sansSerif;
				font-weight: 900;
			}
		}
	}
	nav.main {
		ul.nav-main.menu-main {
			display: none;
		}
	}
	#CONTENT {
		padding-top: $gutter;
		.container  {
			.row {
				margin: 0;
			}
			h1.nn_title {
				font-size: 4em;
				font-family: $display;
				text-transform: uppercase;
				color: $darkColor;
				margin: 0;
				padding: 0;
			}
			h2.nn_sub_title {
				font-size: 1.5em;
				font-family: $display;
				text-transform: uppercase;
				color: $darkColor;
				margin: 0;
				padding: 0;
			}
			// sub navigation
			&.page-list {
				position: fixed;
				top: 95px;
				z-index: 100;
				margin-bottom: 0;	
				li {
					background-color: $lightColor;
				}
			}
		}
		.page-content {
			margin: 0 0 0 18px;
			// main page content
			.row {
				// now->next svg
				position: relative;
				#large-title {
					width: 100%;
					max-width: 700px;
					margin: 52px 0;
					object, svg {
						width: 100%;
						height: auto;
					}
				}
				ul.inline-nav {
					width: 100%;
					font-size: 1em;
					li {
						width: 100%;
						font-size: 1em !important;
						margin: 0;
						display: table;
						&::before, &::after {
							display: none;
						}
						a {
							display: table;
							position: relative;
							&::after, &::before {
								display: inline-block;
								content: '';
								opacity: 0;
								background-size: contain;
								background-position: center;
							}
							&::before {
								display: none;
							}
							&:hover {
								&::after, &::before {
									opacity: 1;
								}
							}
						}
					}
				}
				ul.toc {
					width: calc(100% - 700px - #{$gutter});
					min-width: $toc;
					position: absolute;
					right: 0;
					top: 0;
					z-index: 200;
					li {
						width: calc(100% - #{$gutter*2});
						margin: 0 $gutter $gutter $gutter;
						line-height: 1em;
						display: inline-table;
						a {
							float: left;
							text-align: left;
							font-weight: bold;
						}
						&.title {
							a {
								border-bottom: solid 3px $darkColor;
							}
						}
						&.spotlights {
							color: $lightColor;
							padding-top: 52px;
							a {
								color: $lightColor;
								h1 {
									display: block;
									clear: both;
									padding: 32px 0 0 0;
									@include displayText;
								}
							}
						}
					}
				}
				.accordion {
					h1 {
						@include displayText;
					}
					.content_wrapper {
						list-style: none;
						font-size: inherit;
						margin: 0 0 2em 0;
						padding: 0;
						a {
							display: table;
						}
						a::after {
							content: '';
							width: .65em;
							height: .65em;
							font-size: 4em;
							background-image: url(/imgs/arrow_down.svg);
						}
						.inside {
							height: 0;
							opacity: 0;
							transition: all 250ms ease-in-out, opacity 150ms ease-in-out;
							transform: translateY(-2em);
							pointer-events: none;
						}
						&.opened {
							a {
								&::after {
									transform: rotateZ(180deg);
								}
							}
							.inside {
								opacity: 1;
								transition: all 250ms ease-in-out, opacity 150ms 150ms ease-in-out;
								transform: translateY(0);
								pointer-events: all;
							}
						}
					}
				}
				.chapter {
					padding: 2em 0;
					.content {
						max-width: calc(700px - #{$gutter});
						width: calc(100% - #{$toc} - #{$gutter});
						margin-right: $gutter;
						font-family: $sansSerif;
						color: black;
						h2 {
							width: 100%;
							font-weight: bold;
							display: table;
							padding: 1em 0;
						}
						p {
							margin: 0 0 52px 0;
						}
						strong {
							font-weight: bold;
						}
						blockquote {
							width: 50%;
							@include displayText;
							padding: 0 32px 32px 0;
							float: left;
						}
						ul {
							font-size: inherit;
							padding: 0;
							margin: 0 0 52px 0;
							li {
								padding: 0 0 0 52px;
								font-size: inherit;
								margin: 0;
								&::before {
									display: none;
								}
							}	
							&.bullets {
								li {
									background-image: url(/imgs/circle.png);
									background-size: 5px;
									background-position: 0 15px;
									background-repeat: no-repeat;
								}
							}
						}
						.carousel-placer {
							position: relative;
							height: 25vh;
							.carousel-wrapper {
								width: 100vw;
								height: 100%;
								padding-right: 0;
								position: absolute;
								top: 0;
								left: -233px;
								z-index: 100;
								overflow: hidden;
								.carousel.full-width {
									padding: 0;
									margin: 0;
									.carousel-cell {
										margin: 0;
										padding: 0;
										border: none;
										position: relative;
										background-color: rgba(0,0,0,.25);
										img {
											margin: 0;
											filter: grayscale(1);
										}
										p {
											margin: 0;
											position: absolute;
											bottom: 0;
											left: 0;
											border: 0;
											color: white;
											box-shadow: 10px 10px 10px $pink;
											font-weight: bold;
										}
										&:hover {
											p {
												border: 0;
											}
										}
									}
								}
								img.gradient {
									pointer-events: none;
									position: absolute;
									filter: none !important;
									&.bottom {
										width: 100%;
										height: 100%;
										left: 0;
										top: 0;
									}
									&.left {
										width: auto;
										height: 100%;
										left: 0;
										top: 0;
										transform: rotate(90deg);
										z-index: 10;
									}
									&.right {
										width: auto;
										height: 100%;
										right: 0;
										top: 0;
										transform: rotate(-90deg);
										z-index: 10;
									}
								}
							}
						}
					}
				}
			}
		}
	}
	// side navigation and logo
	.nav-main li a, .branding .icon-logo {
		color: $darkColor;
	}

	.bkgd-primary {
		background-color: $lightColor;
	}

	.primary {
		color: $darkColor;	
	}

	.now-next-text {
		.now::after {
			width: 1.25em;
			height: .7em;
			display: inline-block;
			content: '';
			background-image: url(/imgs/arrow_right.svg);
			background-position: center;
			background-size: contain;
			background-repeat: no-repeat;
		}
	}
}